<p id="notice"><%= notice %></p>

<h1>Books</h1>

          <div>
              <p>Search book: </p>
        <%= form_tag(books_path, method: :get) do %>
        <%= text_field_tag :term %>
        <%= submit_tag 'Search' %>
        <% end %>
    </div>

<!-- <table>

  <tbody>
    <% @books.each do |book| %>
      <tr>
            <td>
              <%= link_to image_tag(book.cover), book %>
              </td>
            </tr>
      <tr>
        <td><%= link_to book.title, book %></td>
        <td>Number of chapters:<%= book.number_of_chapters %></td>
        <td><%= link_to 'Show', book %></td>
        <td><%= link_to 'Edit', edit_book_path(book) %></td>
        <td><%= link_to 'Destroy', book, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
      
      
    <% end %>
  </tbody>
</table> -->

<div id="product_list">
<th><%= link_to "Sort by alphabet", :sort => "title"%> </th></br>
<th><%= link_to "Sort by num of chapters", :sort => "number_of_chapters"%> </th>
<table>
    
    <% @books.each do |book| %>
        <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
  
            <td>
                <%= image_tag(book.cover, :class => 'list_image') %>
            </td>
  
            <td class="list_description">
                <dl>
                    <dt><%= book.title %></dt>
                    <dn><%= book.category.category%></dn>
                    
                    <dd><%= truncate(strip_tags(book.description),
                            :length => 80) %></dd>
                    <dn><%= book.number_of_chapters %> chapters</dn>
                </dl>
            </td>
  
            <td class="list_actions">
                <%= link_to 'Show', book %><br/>
                <%= link_to 'Edit', edit_book_path(book) %><br/>
                <%= link_to 'Destroy', book,
                    data: { confirm: 'Are you sure?' },
                    :method => :delete %>
            </td>
        </tr>
    <% end %>
    </table>
</div>
<br>

<%= link_to 'New Book', new_book_path %>
<br>
<div class="button">
    <%= link_to 'Return home', '/', :method => :get %>
</div> 

<%= link_to 'Add Category', "/categories", method: :GET %>